
Plan
  カスタムバリデーション
    end_date_after_start_date
      終了日が開始日以降の場合は有効
      終了日が開始日と同じ場合は有効
      終了日が開始日より前の場合は無効
      開始日または終了日がnilの場合はバリデーションをスキップ
  重要なメソッド
    accessible_by?
      プラン作成者はアクセス可能
      プランメンバーはアクセス可能
      関係のないユーザーはアクセス不可
    participants
      作成者とメンバー全員を返す
      重複したユーザーは1人として扱う
  コールバック
    after_create :add_owner_as_member
      プラン作成時に作成者がメンバーに自動追加される
      プラン作成者は必ずメンバーに含まれる
  基本的なバリデーション
    有効なプランが作成できる
    必須項目が空の場合は無効

User
  バリデーションテスト
    メールアドレスが重複している場合は無効
  アソシエーションのテスト
    ユーザーが複数のプランを持てること
    ユーザーが削除されるとプランも削除されること

Protected Pages
  GET /users/edit
    ログインしていない場合
      ログインページにリダイレクトされる
    ログインしている場合
      ユーザー編集ページが表示される
  ログイン済みユーザーの認証ページアクセス
    ログインページにアクセスするとリダイレクトされる
    新規登録ページにアクセスするとリダイレクトされる

Sessions
  GET /users/sign_in
    ログインページが表示される
  POST /users/sign_in
    正しい認証情報の場合
      ログインが成功する
    間違った認証情報の場合
      ログインが失敗する

Users
  POST /users
    有効なパラメータの場合
      ユーザーが作成される
      成功レスポンスが返される
    無効なパラメータの場合
      ユーザーが作成されない
      エラーレスポンスが返される

Finished in 0.59714 seconds (files took 0.9856 seconds to load)
27 examples, 0 failures

